
SET SERVEROUTPUT ON;

DECLARE
  target_email VARCHAR2(100) := 'emma.murumbi@company.com';
  v_emp_id     NUMBER;
  v_first_name VARCHAR2(50);
  v_last_name  VARCHAR2(50);
  v_found      BOOLEAN := FALSE;
BEGIN
  -- Loop through all employees
  FOR r IN (SELECT employee_id, email, first_name, last_name FROM employees ORDER BY employee_id) LOOP
    IF LOWER(r.email) = LOWER(target_email) THEN
      v_emp_id := r.employee_id;
      v_first_name := r.first_name;
      v_last_name := r.last_name;
      v_found := TRUE;
      GOTO label_found;
    END IF;
  END LOOP;

  -- If no match found
  DBMS_OUTPUT.PUT_LINE('Employee with email ' || target_email || ' not found.');
  GOTO label_end;

  <<label_found>>
  DBMS_OUTPUT.PUT_LINE('Found employee: ID = ' || v_emp_id || 
                       '; Name = ' || v_first_name || ' ' || v_last_name);

  -- More actions could go here (update, insert, etc.)

  <<label_end>>
  NULL; -- end point

EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Error in GOTO block: ' || SQLERRM);
END;
/

